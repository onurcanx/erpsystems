{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\onur_\\\\Desktop\\\\ERP2\\\\frontend\\\\src\\\\components\\\\NotificationBell.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { useNotification } from '../context/NotificationContext';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst NotificationBell = () => {\n  _s();\n  const {\n    notifications,\n    criticalCount,\n    fetchNotifications\n  } = useNotification();\n  const [showNotif, setShowNotif] = React.useState(false);\n  const [notifPanel, setNotifPanel] = React.useState(false);\n  const notifTimeout = React.useRef(null);\n\n  // Otomatik popup göster\n  useEffect(() => {\n    if (criticalCount > 0 && notifications.length > 0) {\n      setShowNotif(true);\n      if (notifTimeout.current) clearTimeout(notifTimeout.current);\n      notifTimeout.current = setTimeout(() => setShowNotif(false), 3000);\n    }\n  }, [criticalCount, notifications]);\n  useEffect(() => {\n    fetchNotifications();\n    return () => {\n      if (notifTimeout.current) clearTimeout(notifTimeout.current);\n    };\n    // eslint-disable-next-line\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        top: 24,\n        right: 48,\n        zIndex: 3000\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'relative',\n          cursor: 'pointer'\n        },\n        onClick: () => setNotifPanel(v => !v),\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          width: \"32\",\n          height: \"32\",\n          viewBox: \"0 0 24 24\",\n          fill: \"none\",\n          stroke: \"#365256\",\n          strokeWidth: \"2\",\n          strokeLinecap: \"round\",\n          strokeLinejoin: \"round\",\n          children: [/*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M18 8a6 6 0 0 0-12 0c0 7-3 9-3 9h18s-3-2-3-9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 149\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M13.73 21a2 2 0 0 1-3.46 0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 205\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 11\n        }, this), criticalCount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            position: 'absolute',\n            top: -6,\n            right: -6,\n            background: '#b00020',\n            color: '#fff',\n            borderRadius: '50%',\n            fontSize: 13,\n            fontWeight: 700,\n            width: 20,\n            height: 20,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            boxShadow: '0 2px 8px #0002'\n          },\n          children: criticalCount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this), notifPanel && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          top: 38,\n          right: 0,\n          background: '#fff',\n          borderRadius: 8,\n          boxShadow: '0 2px 12px #0002',\n          padding: '14px 22px',\n          minWidth: 220,\n          color: '#b00020',\n          fontWeight: 600,\n          fontSize: 15\n        },\n        children: notifications.length > 0 ? notifications.map(n => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: n.message\n        }, n.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 38\n        }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: '#888',\n            textAlign: 'center'\n          },\n          children: \"Bildirim yok\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), showNotif && notifications.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        top: 24,\n        right: 100,\n        background: '#fff',\n        borderRadius: 8,\n        boxShadow: '0 2px 12px #0002',\n        padding: '14px 22px',\n        minWidth: 220,\n        color: '#b00020',\n        fontWeight: 600,\n        fontSize: 15,\n        zIndex: 3000\n      },\n      children: notifications[0].message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s(NotificationBell, \"rN4zzf1c7Fxy6bbZc1Xf4+k4CNs=\", false, function () {\n  return [useNotification];\n});\n_c = NotificationBell;\nexport default NotificationBell;\nvar _c;\n$RefreshReg$(_c, \"NotificationBell\");","map":{"version":3,"names":["React","useEffect","useNotification","jsxDEV","_jsxDEV","Fragment","_Fragment","NotificationBell","_s","notifications","criticalCount","fetchNotifications","showNotif","setShowNotif","useState","notifPanel","setNotifPanel","notifTimeout","useRef","length","current","clearTimeout","setTimeout","children","style","position","top","right","zIndex","cursor","onClick","v","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","fileName","_jsxFileName","lineNumber","columnNumber","background","color","borderRadius","fontSize","fontWeight","display","alignItems","justifyContent","boxShadow","padding","minWidth","map","n","message","id","textAlign","_c","$RefreshReg$"],"sources":["C:/Users/onur_/Desktop/ERP2/frontend/src/components/NotificationBell.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useNotification } from '../context/NotificationContext';\n\nconst NotificationBell = () => {\n  const { notifications, criticalCount, fetchNotifications } = useNotification();\n  const [showNotif, setShowNotif] = React.useState(false);\n  const [notifPanel, setNotifPanel] = React.useState(false);\n  const notifTimeout = React.useRef(null);\n\n  // Otomatik popup göster\n  useEffect(() => {\n    if (criticalCount > 0 && notifications.length > 0) {\n      setShowNotif(true);\n      if (notifTimeout.current) clearTimeout(notifTimeout.current);\n      notifTimeout.current = setTimeout(() => setShowNotif(false), 3000);\n    }\n  }, [criticalCount, notifications]);\n\n  useEffect(() => {\n    fetchNotifications();\n    return () => {\n      if (notifTimeout.current) clearTimeout(notifTimeout.current);\n    };\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <>\n      {/* Sabit bildirim ikonu */}\n      <div style={{ position: 'fixed', top: 24, right: 48, zIndex: 3000 }}>\n        <div style={{ position: 'relative', cursor: 'pointer' }} onClick={() => setNotifPanel(v => !v)}>\n          <svg width=\"32\" height=\"32\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"#365256\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M18 8a6 6 0 0 0-12 0c0 7-3 9-3 9h18s-3-2-3-9\"/><path d=\"M13.73 21a2 2 0 0 1-3.46 0\"/></svg>\n          {criticalCount > 0 && (\n            <span style={{ position: 'absolute', top: -6, right: -6, background: '#b00020', color: '#fff', borderRadius: '50%', fontSize: 13, fontWeight: 700, width: 20, height: 20, display: 'flex', alignItems: 'center', justifyContent: 'center', boxShadow: '0 2px 8px #0002' }}>{criticalCount}</span>\n          )}\n        </div>\n        {/* Bildirim paneli (ikon tıklanınca) */}\n        {notifPanel && (\n          <div style={{ position: 'absolute', top: 38, right: 0, background: '#fff', borderRadius: 8, boxShadow: '0 2px 12px #0002', padding: '14px 22px', minWidth: 220, color: '#b00020', fontWeight: 600, fontSize: 15 }}>\n            {notifications.length > 0 ? (\n              notifications.map(n => <div key={n.id}>{n.message}</div>)\n            ) : (\n              <div style={{ color: '#888', textAlign: 'center' }}>Bildirim yok</div>\n            )}\n          </div>\n        )}\n      </div>\n      {/* Otomatik bildirim popup */}\n      {showNotif && notifications.length > 0 && (\n        <div style={{ position: 'fixed', top: 24, right: 100, background: '#fff', borderRadius: 8, boxShadow: '0 2px 12px #0002', padding: '14px 22px', minWidth: 220, color: '#b00020', fontWeight: 600, fontSize: 15, zIndex: 3000 }}>\n          {notifications[0].message}\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default NotificationBell; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}